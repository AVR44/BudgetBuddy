{"ast":null,"code":"var _jsxFileName = \"/Users/aaryarane29/Desktop/test/expense/frontend/src/components/Reports.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend, ArcElement } from 'chart.js';\nimport { Bar, Pie } from 'react-chartjs-2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend, ArcElement);\nconst Reports = () => {\n  _s();\n  const [expenses, setExpenses] = useState([]);\n  const [timeRange, setTimeRange] = useState('month');\n  useEffect(() => {\n    const fetchExpenses = async () => {\n      try {\n        const res = await axios.get('/api/expenses');\n        setExpenses(res.data);\n      } catch (err) {\n        console.error(err);\n      }\n    };\n    fetchExpenses();\n  }, []);\n  const getFilteredExpenses = () => {\n    const now = new Date();\n    const filtered = expenses.filter(expense => {\n      const expenseDate = new Date(expense.date);\n      if (timeRange === 'month') {\n        return expenseDate.getMonth() === now.getMonth() && expenseDate.getFullYear() === now.getFullYear();\n      } else if (timeRange === 'year') {\n        return expenseDate.getFullYear() === now.getFullYear();\n      }\n      return true;\n    });\n    return filtered;\n  };\n  const getCategoryData = () => {\n    const filteredExpenses = getFilteredExpenses();\n    const categories = {};\n    filteredExpenses.forEach(expense => {\n      categories[expense.category] = (categories[expense.category] || 0) + expense.amount;\n    });\n    return {\n      labels: Object.keys(categories),\n      datasets: [{\n        label: 'Expenses by Category',\n        data: Object.values(categories),\n        backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF', '#FF9F40', '#FF6384']\n      }]\n    };\n  };\n  const getMonthlyData = () => {\n    const filteredExpenses = getFilteredExpenses();\n    const months = Array(12).fill(0);\n    filteredExpenses.forEach(expense => {\n      const month = new Date(expense.date).getMonth();\n      months[month] += expense.amount;\n    });\n    return {\n      labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n      datasets: [{\n        label: 'Monthly Expenses',\n        data: months,\n        backgroundColor: '#36A2EB'\n      }]\n    };\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"reports\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Expense Reports\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"time-range\",\n      children: /*#__PURE__*/_jsxDEV(\"select\", {\n        value: timeRange,\n        onChange: e => setTimeRange(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"month\",\n          children: \"This Month\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"year\",\n          children: \"This Year\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"all\",\n          children: \"All Time\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"charts\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Expenses by Category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Pie, {\n          data: getCategoryData()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Monthly Expenses\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Bar, {\n          data: getMonthlyData(),\n          options: {\n            responsive: true,\n            plugins: {\n              legend: {\n                position: 'top'\n              }\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 5\n  }, this);\n};\n_s(Reports, \"dzxmj6tYbjEd7PxQqoe0usa877c=\");\n_c = Reports;\nexport default Reports;\nvar _c;\n$RefreshReg$(_c, \"Reports\");","map":{"version":3,"names":["React","useState","useEffect","axios","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","ArcElement","Bar","Pie","jsxDEV","_jsxDEV","register","Reports","_s","expenses","setExpenses","timeRange","setTimeRange","fetchExpenses","res","get","data","err","console","error","getFilteredExpenses","now","Date","filtered","filter","expense","expenseDate","date","getMonth","getFullYear","getCategoryData","filteredExpenses","categories","forEach","category","amount","labels","Object","keys","datasets","label","values","backgroundColor","getMonthlyData","months","Array","fill","month","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","options","responsive","plugins","legend","position","_c","$RefreshReg$"],"sources":["/Users/aaryarane29/Desktop/test/expense/frontend/src/components/Reports.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend,\n  ArcElement,\n} from 'chart.js';\nimport { Bar, Pie } from 'react-chartjs-2';\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend,\n  ArcElement\n);\n\nconst Reports = () => {\n  const [expenses, setExpenses] = useState([]);\n  const [timeRange, setTimeRange] = useState('month');\n\n  useEffect(() => {\n    const fetchExpenses = async () => {\n      try {\n        const res = await axios.get('/api/expenses');\n        setExpenses(res.data);\n      } catch (err) {\n        console.error(err);\n      }\n    };\n\n    fetchExpenses();\n  }, []);\n\n  const getFilteredExpenses = () => {\n    const now = new Date();\n    const filtered = expenses.filter((expense) => {\n      const expenseDate = new Date(expense.date);\n      if (timeRange === 'month') {\n        return (\n          expenseDate.getMonth() === now.getMonth() &&\n          expenseDate.getFullYear() === now.getFullYear()\n        );\n      } else if (timeRange === 'year') {\n        return expenseDate.getFullYear() === now.getFullYear();\n      }\n      return true;\n    });\n    return filtered;\n  };\n\n  const getCategoryData = () => {\n    const filteredExpenses = getFilteredExpenses();\n    const categories = {};\n    filteredExpenses.forEach((expense) => {\n      categories[expense.category] = (categories[expense.category] || 0) + expense.amount;\n    });\n\n    return {\n      labels: Object.keys(categories),\n      datasets: [\n        {\n          label: 'Expenses by Category',\n          data: Object.values(categories),\n          backgroundColor: [\n            '#FF6384',\n            '#36A2EB',\n            '#FFCE56',\n            '#4BC0C0',\n            '#9966FF',\n            '#FF9F40',\n            '#FF6384',\n          ],\n        },\n      ],\n    };\n  };\n\n  const getMonthlyData = () => {\n    const filteredExpenses = getFilteredExpenses();\n    const months = Array(12).fill(0);\n    filteredExpenses.forEach((expense) => {\n      const month = new Date(expense.date).getMonth();\n      months[month] += expense.amount;\n    });\n\n    return {\n      labels: [\n        'Jan',\n        'Feb',\n        'Mar',\n        'Apr',\n        'May',\n        'Jun',\n        'Jul',\n        'Aug',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Dec',\n      ],\n      datasets: [\n        {\n          label: 'Monthly Expenses',\n          data: months,\n          backgroundColor: '#36A2EB',\n        },\n      ],\n    };\n  };\n\n  return (\n    <div className=\"reports\">\n      <h2>Expense Reports</h2>\n      <div className=\"time-range\">\n        <select value={timeRange} onChange={(e) => setTimeRange(e.target.value)}>\n          <option value=\"month\">This Month</option>\n          <option value=\"year\">This Year</option>\n          <option value=\"all\">All Time</option>\n        </select>\n      </div>\n\n      <div className=\"charts\">\n        <div className=\"chart-container\">\n          <h3>Expenses by Category</h3>\n          <Pie data={getCategoryData()} />\n        </div>\n        <div className=\"chart-container\">\n          <h3>Monthly Expenses</h3>\n          <Bar\n            data={getMonthlyData()}\n            options={{\n              responsive: true,\n              plugins: {\n                legend: {\n                  position: 'top',\n                },\n              },\n            }}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Reports; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}